{
  "title": "EMnify dashboard",
  "description": "## Title\n\nDescribe this dashboard. Add links to other dashboards, monitors, wikis,  and docs to help your teammates. Markdown is supported.\n\n- [This might link to a dashboard](#)\n- [This might link to a wiki](#)",
  "widgets": [
    {
      "id": 2719566117138984,
      "definition": {
        "type": "image",
        "url": "https://portal.emnify.com/images/main-layout-logo-dark.svg",
        "sizing": "contain",
        "margin": "md",
        "has_background": false,
        "has_border": false,
        "vertical_align": "center",
        "horizontal_align": "center"
      },
      "layout": { "x": 0, "y": 0, "width": 3, "height": 2 }
    },
    {
      "id": 6446661413737418,
      "definition": {
        "title": "Total data usage",
        "title_size": "16",
        "title_align": "left",
        "type": "query_value",
        "requests": [
          {
            "formulas": [{ "formula": "query1" }],
            "response_format": "scalar",
            "queries": [
              {
                "query": "sum:endpoint.volume{*}",
                "data_source": "metrics",
                "name": "query1",
                "aggregator": "avg"
              }
            ]
          }
        ],
        "autoscale": true,
        "precision": 2,
        "timeseries_background": { "type": "bars", "yaxis": {} }
      },
      "layout": { "x": 3, "y": 0, "width": 5, "height": 2 }
    },
    {
      "id": 406495337364450,
      "definition": {
        "title": "Total data usage with anomalies detection",
        "title_size": "16",
        "title_align": "left",
        "show_legend": true,
        "legend_layout": "horizontal",
        "legend_columns": ["avg", "min", "max", "value", "sum"],
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              {
                "alias": "Data Volume",
                "formula": "anomalies(query1, 'basic', 2)"
              }
            ],
            "response_format": "timeseries",
            "queries": [
              {
                "query": "sum:endpoint.volume{*}",
                "data_source": "metrics",
                "name": "query1"
              }
            ],
            "style": {
              "palette": "green",
              "line_type": "solid",
              "line_width": "thin"
            },
            "display_type": "line"
          }
        ],
        "yaxis": { "scale": "sqrt" }
      },
      "layout": { "x": 0, "y": 2, "width": 12, "height": 3 }
    },
    {
      "id": 3392374472006114,
      "definition": {
        "title": "Map of total data usage per device",
        "type": "treemap",
        "requests": [
          {
            "formulas": [{ "formula": "query1" }],
            "response_format": "scalar",
            "queries": [
              {
                "query": "sum:endpoint.volume{*} by {host}",
                "data_source": "metrics",
                "name": "query1",
                "aggregator": "sum"
              }
            ]
          }
        ]
      },
      "layout": { "x": 0, "y": 5, "width": 12, "height": 3 }
    },
    {
      "id": 8861267507955738,
      "definition": {
        "title": "Data consumption per device over month ",
        "title_size": "16",
        "title_align": "left",
        "show_legend": true,
        "legend_layout": "auto",
        "legend_columns": ["avg", "min", "max", "value", "sum"],
        "time": { "live_span": "1mo" },
        "type": "timeseries",
        "requests": [
          {
            "formulas": [
              { "alias": "Data Transmitted", "formula": "query1" },
              { "alias": "Data Received", "formula": "query2" }
            ],
            "response_format": "timeseries",
            "queries": [
              {
                "query": "avg:endpoint.volume_tx{*} by {host}.as_count()",
                "data_source": "metrics",
                "name": "query1"
              },
              {
                "query": "avg:endpoint.volume_rx{*} by {host}.as_count()",
                "data_source": "metrics",
                "name": "query2"
              }
            ],
            "style": {
              "palette": "orange",
              "line_type": "solid",
              "line_width": "normal"
            },
            "display_type": "bars"
          }
        ],
        "yaxis": { "include_zero": false, "scale": "sqrt" }
      },
      "layout": { "x": 0, "y": 8, "width": 12, "height": 3 }
    },
    {
      "id": 3084876685770464,
      "definition": {
        "title": "Monthly Data Received and Data Transmitted by host",
        "title_size": "16",
        "title_align": "left",
        "time": { "live_span": "1mo" },
        "type": "scatterplot",
        "requests": {
          "table": {
            "formulas": [
              {
                "alias": "Data Transmitted",
                "dimension": "x",
                "formula": "query1"
              },
              {
                "alias": "Data Received",
                "dimension": "y",
                "formula": "duplicatedquery1"
              }
            ],
            "response_format": "scalar",
            "queries": [
              {
                "query": "sum:endpoint.volume_tx{*} by {host}.as_count()",
                "data_source": "metrics",
                "name": "query1",
                "aggregator": "avg"
              },
              {
                "query": "sum:endpoint.volume_rx{*} by {host}.as_count()",
                "data_source": "metrics",
                "name": "duplicatedquery1",
                "aggregator": "avg"
              }
            ]
          }
        },
        "xaxis": { "include_zero": false, "scale": "log" },
        "yaxis": { "include_zero": false, "scale": "log" }
      },
      "layout": { "x": 0, "y": 11, "width": 6, "height": 5 }
    },
    {
      "id": 3157632350532354,
      "definition": {
        "title": "Top 100 devices by data usage",
        "title_size": "16",
        "title_align": "left",
        "type": "toplist",
        "requests": [
          {
            "formulas": [
              {
                "formula": "query1",
                "limit": { "count": 100, "order": "desc" }
              }
            ],
            "conditional_formats": [
              {
                "comparator": ">",
                "palette": "white_on_yellow",
                "value": 150000000
              }
            ],
            "response_format": "scalar",
            "queries": [
              {
                "query": "avg:endpoint.volume{*} by {host}",
                "data_source": "metrics",
                "name": "query1",
                "aggregator": "sum"
              }
            ]
          }
        ]
      },
      "layout": { "x": 6, "y": 11, "width": 6, "height": 5 }
    }
  ],
  "template_variables": [],
  "layout_type": "ordered",
  "is_read_only": false,
  "notify_list": [],
  "reflow_type": "fixed",
  "id": "ajg-fdu-uyn"
}
